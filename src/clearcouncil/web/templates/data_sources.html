<!-- Data Sources Transparency Section -->
<div class="data-sources-section">
    <div class="container">
        <h2 class="section-title">
            <i class="fas fa-database"></i>
            Data Sources & Transparency
        </h2>
        
        <div class="transparency-summary">
            <p class="lead">
                ClearCouncil provides transparent access to York County government data. 
                All information comes directly from official government sources and is processed 
                to make voting patterns and representative activities easily understandable.
            </p>
        </div>

        <!-- Current Data Sources -->
        <div class="row">
            <div class="col-md-6">
                <div class="data-source-card historical">
                    <div class="card-header">
                        <h4><i class="fas fa-archive"></i> Historical Documents</h4>
                        <span class="status-badge active">Active</span>
                    </div>
                    <div class="card-body">
                        <p><strong>Source:</strong> IQM2 Legacy System</p>
                        <p><strong>URL:</strong> <a href="https://yorkcountysc.iqm2.com/Citizens/FileOpen.aspx" target="_blank">yorkcountysc.iqm2.com</a></p>
                        <p><strong>Coverage:</strong> January 2018 - March 17, 2025</p>
                        <p><strong>Access:</strong> Direct automated download</p>
                        <p><strong>Status:</strong> ✅ Fully automated collection</p>
                        <div class="stats">
                            <span class="stat-item">463 documents processed</span>
                            <span class="stat-item">99.3% success rate</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="data-source-card current">
                    <div class="card-header">
                        <h4><i class="fas fa-cloud"></i> Current Documents</h4>
                        <span class="status-badge needs-attention">Needs Authentication</span>
                    </div>
                    <div class="card-body">
                        <p><strong>Source:</strong> CivicClerk Portal (CivicPlus)</p>
                        <p><strong>URL:</strong> <a href="https://yorkcosc.portal.civicclerk.com/" target="_blank">yorkcosc.portal.civicclerk.com</a></p>
                        <p><strong>Coverage:</strong> March 18, 2025 - Present</p>
                        <p><strong>Access:</strong> Requires authentication</p>
                        <p><strong>Status:</strong> ⚠️ Manual download required</p>
                        <div class="auth-methods">
                            <p><strong>Available login methods:</strong></p>
                            <div class="auth-options">
                                <span class="auth-method"><i class="fab fa-google"></i> Google</span>
                                <span class="auth-method"><i class="fab fa-facebook"></i> Facebook</span>
                                <span class="auth-method"><i class="fab fa-apple"></i> Apple</span>
                                <span class="auth-method"><i class="fab fa-microsoft"></i> Microsoft</span>
                                <span class="auth-method"><i class="fas fa-envelope"></i> Email</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Official Source Reference -->
        <div class="official-source-box">
            <h4><i class="fas fa-external-link-alt"></i> Official Government Source</h4>
            <p>
                All data originates from York County's official government website: 
                <a href="https://www.yorkcountygov.com/1175/Agendas-and-Minutes" target="_blank">
                    <strong>York County Agendas and Minutes</strong>
                </a>
            </p>
            <p class="small text-muted">
                ClearCouncil simply processes and organizes this public information to make it more accessible for citizens.
            </p>
        </div>

        <!-- Data Processing Information -->
        <div class="processing-info">
            <h3>How We Process the Data</h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="process-step">
                        <div class="step-icon">
                            <i class="fas fa-download"></i>
                        </div>
                        <h5>1. Automated Collection</h5>
                        <p>Daily automated download of meeting minutes, agendas, and supporting documents from official sources.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="process-step">
                        <div class="step-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h5>2. AI-Powered Extraction</h5>
                        <p>Advanced AI extracts voting records, representative actions, and case information with 95%+ accuracy.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="process-step">
                        <div class="step-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h5>3. Analysis & Visualization</h5>
                        <p>Smart deduplication and fuzzy matching creates clean, analyzable voting patterns and trends.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Quality Metrics -->
        <div class="data-quality-metrics">
            <h3>Data Quality & Coverage</h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">463</div>
                    <div class="metric-label">Documents Processed</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">39</div>
                    <div class="metric-label">Unique Representatives</div>
                    <div class="metric-note">Down from 1,017 duplicates</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">3,795</div>
                    <div class="metric-label">Voting Records</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">99.3%</div>
                    <div class="metric-label">Processing Success Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">6+ years</div>
                    <div class="metric-label">Historical Coverage</div>
                    <div class="metric-note">2018-2024</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">Daily</div>
                    <div class="metric-label">Update Frequency</div>
                </div>
            </div>
        </div>

        <!-- Transparency Commitments -->
        <div class="transparency-commitments">
            <h3>Our Transparency Commitments</h3>
            <div class="commitments-list">
                <div class="commitment-item">
                    <i class="fas fa-check-circle"></i>
                    <span>All data comes directly from official York County government sources</span>
                </div>
                <div class="commitment-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Original PDF documents are preserved and linked for verification</span>
                </div>
                <div class="commitment-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Processing methods and code are open source and auditable</span>
                </div>
                <div class="commitment-item">
                    <i class="fas fa-check-circle"></i>
                    <span>No data is modified - only parsed and organized for easier analysis</span>
                </div>
                <div class="commitment-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Data processing logs and error reports are maintained for accountability</span>
                </div>
            </div>
        </div>

        <!-- Current Limitations -->
        <div class="limitations-section">
            <h3>Current Limitations & Upcoming Improvements</h3>
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="fas fa-exclamation-triangle"></i> Current Limitations</h5>
                    <ul class="limitations-list">
                        <li>Post-March 2025 documents require manual collection due to new authentication system</li>
                        <li>Some older PDF documents have formatting issues affecting extraction accuracy</li>
                        <li>Historical coverage limited to documents available in digital format (2018+)</li>
                        <li>Real-time meeting processing not yet implemented</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h5><i class="fas fa-rocket"></i> Upcoming Improvements</h5>
                    <ul class="improvements-list">
                        <li><strong>CivicPlus Authentication:</strong> Automated login to new portal system</li>
                        <li><strong>Real-time Processing:</strong> Live meeting transcript analysis</li>
                        <li><strong>Enhanced AI:</strong> Better extraction from complex document formats</li>
                        <li><strong>Mobile Optimization:</strong> Improved mobile dashboard experience</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.data-sources-section {
    background: #f8f9fa;
    padding: 2rem 0;
    margin: 2rem 0;
}

.section-title {
    text-align: center;
    margin-bottom: 2rem;
    color: #2c3e50;
}

.transparency-summary {
    text-align: center;
    margin-bottom: 3rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.data-source-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 1rem;
    overflow: hidden;
}

.card-header {
    background: #3498db;
    color: white;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.historical .card-header {
    background: #27ae60;
}

.current .card-header {
    background: #f39c12;
}

.status-badge {
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
}

.status-badge.active {
    background: #2ecc71;
    color: white;
}

.status-badge.needs-attention {
    background: #e74c3c;
    color: white;
}

.card-body {
    padding: 1rem;
}

.stats {
    margin-top: 1rem;
    display: flex;
    gap: 1rem;
}

.stat-item {
    background: #ecf0f1;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
}

.auth-methods {
    margin-top: 1rem;
}

.auth-options {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 0.5rem;
}

.auth-method {
    background: #3498db;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
}

.official-source-box {
    background: #e8f5e8;
    border: 2px solid #27ae60;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 2rem 0;
    text-align: center;
}

.processing-info {
    margin: 3rem 0;
}

.process-step {
    text-align: center;
    margin-bottom: 2rem;
}

.step-icon {
    width: 60px;
    height: 60px;
    background: #3498db;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    color: white;
    font-size: 1.5rem;
}

.data-quality-metrics {
    margin: 3rem 0;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.metric-card {
    background: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.metric-value {
    font-size: 2rem;
    font-weight: bold;
    color: #3498db;
}

.metric-label {
    font-size: 0.9rem;
    color: #7f8c8d;
    margin-top: 0.5rem;
}

.metric-note {
    font-size: 0.7rem;
    color: #95a5a6;
    margin-top: 0.25rem;
}

.transparency-commitments, .limitations-section {
    margin: 3rem 0;
}

.commitments-list {
    margin-top: 1rem;
}

.commitment-item {
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem;
}

.commitment-item i {
    color: #27ae60;
    margin-right: 0.5rem;
}

.limitations-list, .improvements-list {
    padding-left: 1rem;
}

.limitations-list li {
    margin-bottom: 0.5rem;
    color: #e74c3c;
}

.improvements-list li {
    margin-bottom: 0.5rem;
    color: #27ae60;
}
</style>
